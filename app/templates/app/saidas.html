{% extends "app/base_site.html" %}

{% block title %} Projects {% endblock title %}

{% block stylesheets %}
  {{ block.super }}
{% endblock stylesheets %}

{% block content %}

<!--

-->
<script>
  // Funçoes de Cliente
  
  function carregarGradeProduto(){
    $.ajax({
      data: {
        filtro : $('#id_get_entidade_cliente').val(),
        empresa : '{{empresaUsuario.id}}'
      },
      type: 'GET',
      url:'/cadastros/clientes/buscar/'
    }).success(function(data){
      var texto_html = '';
      for (i in data) { 
          var n = parseInt(i) + 1;
          texto_html = texto_html + '<tr>';
            texto_html = texto_html + '<th scope="row">'+n+'</th>';
            if (data[i].ativo==true){
              texto_html = texto_html + '<td align="center"><input onclick="return false;" type="checkbox" checked/></td>';
            }
            else{
              texto_html = texto_html + '<td align="center"><input onclick="return false;" type="checkbox" /></td>';
            }
            texto_html = texto_html + '<td>'+data[i].tipo_pessoa+'</td>';
            texto_html = texto_html + '<td>'+ data[i].nome +'</td>';
            if (data[i].nome_fantasia){
              texto_html = texto_html + '<td>'+ data[i].nome_fantasia +'</td>';
            }
            else{
              texto_html = texto_html + '<td></td>'; 
            }
            texto_html = texto_html + '<td>'+data[i].tipo.status_credito+'</td>';
            texto_html = texto_html + '<td>';
            var parametro_edit = "'editarCliente("+ JSON.stringify(data[i])+")'";
              texto_html = texto_html + '<i class="fa fa-pencil-square-o" aria-hidden="true" onclick='+ parametro_edit +'></i>';
              texto_html = texto_html + '<i class="fa fa-trash" aria-hidden="true" onclick= excluirCliente("'+ data[i]._id['$oid'] +'")></i>';
            texto_html = texto_html + '</td>';
          texto_html = texto_html + '</tr>';
      }  
      $('#id_itens_clientes').html(texto_html);
    }).fail(function(data){
        alertar('Atenção','Não foi possível buscar a lista de clientes </br> Tente novamente mais tarde','red','fa fa-warning');                          
    });
}

function addCliente(flag=0){
  if ($("#cliente_id_nome").val() == ''){
    if (flag == 0){
      $("#cliente_id_nome").parent().addClass("bad");
      alertar('ATENÇÂO','Preencha os campos corretamente','red', 'glyphicon glyphicon-alert');
    }else{
      $("#cliente_id_nome").parent().addClass("bad");
      alertar('ATENÇÂO','É preciso preencher o cadastro do cliente','red', 'glyphicon glyphicon-alert');
    }
  }else{
    $.ajax({
      data: {
        cliente : {
          id_cliente :  $('#id_Cliente').val(),
          ativo : $('#cliente_id_ativo').val(),
          tipo_pessoa : $("#cliente_id_tipo").val(),
          CNPJ : $("#cliente_id_CNPJ").val(),
          nome : $("#cliente_id_nome").val(),
          nome_fantasia : $("#cliente_id_nome_fantasia").val(),
          inscricao_estadual : $("#cliente_id_inscestadual").val(),
          inscricao_municipal : $("#cliente_id_inscmunicipal").val(),
          data_fundacao : $("#cliente_data_fundacao").val(),
          CRT : $("#cliente_id_crt").val(),
          CPF : $("#cliente_id_CPF").val(),
          RG : $("#cliente_id_rg").val(),
          registro : $("#cliente_id_registro").val(),
          data_nascimento : moment($('#cliente_data_nascimento').data("DateTimePicker").date()).format('DD/MM/YYYY'),
          sexo : $("#cliente_id_sexo").val(),
          estado_civil : $("#cliente_id_estado_civil").val(),
          nome_pai : $("#cliente_id_nome_pai").val(),
          nome_mae : $("#cliente_id_nome_mae").val(),
          grau_instrucao : $("#cliente_id_grau_instrucao").val(),
          complemento_instrucao : $("#cliente_id_compl_instrucao").val(),
          instituicao_ensino : $("#cliente_id_inst_ensino").val(),
          RA : $("#cliente_id_ra").val(),
          ano_letivo : $("#cliente_id_ano_letivo").val(),
          periodo : $("#cliente_id_periodo").val(),
          status_credito : $("#cliente_id_status_credito").val(),
          limite_credito : ($("#cliente_id_limite_credito").val()) ? parseFloat($("#cliente_id_limite_credito").val()) : 0,          
          observacao : $("#cliente_obs").val()
        },
        empresa : '{{empresaUsuario.id}}'
      },
      type: 'POST',
      url:'/cadastros/clientes/'
      }).success(function(data){
        $('#id_Cliente').val(data.result);
        alertar('Sucesso','Cliente cadastrado com sucesso','green','fa fa-sucess');
        switch(flag) {
          case 0:
              mostraGradeSaida();
              carregarGradeSaida();
            break;

          case 1:
              adicionarEndereco("Cliente", "cliente");
            break;

          case 2:
              adicionarContato('/cadastros/clientes/','#idContato_cliente','#cliente_id_nomecontato','#cliente_id_emailcontato','#cliente_id_telefonecontato','#id_Cliente','clientes','cliente_contatos', 'idContato_cliente', 'gradeContato_clientes', 'btnFormularioContatoClientes', 'btnGradeContatoClientes', 'formularioContatoCliente', 'Cliente');
            break;
        }
        
      }).fail(function(data){
        alertar('Atenção','Não foi possível salvar o registro </br> Tente novamente mais tarde','red','fa fa-warning');                          
    });
  }
  return 1;
}

function excluirCliente(id){
  confirmar('Atenção',
            'Deseja excluir este cliente?',
            'red',
            'fa fa-warning',
            function(){
              var self = this;
              self.close();
             return $.ajax({
                    data: {
                        csrfmiddlewaretoken: '{{token}}',
                        deletar : {
                          idDel : id
                        },
                        empresa : '{{empresaUsuario.id}}'
                      },
                    type: 'POST',
                    url:'/cadastros/clientes/excluir/'
                    }).success(function(data){
                      $("#cliente_btn_ok").click();
                    }).fail(function(data){
                        alertar('Atenção','Não foi possível excluir este cliente </br> Tente novamente mais tarde','red','fa fa-warning');
                    });
                  }
  )
}

function editarCliente(data){
  $('#id_Cliente').val(data._id['$oid']);

  if (data.ativo==true){
    $('#cliente_id_ativo').prop("checked", true );
  }
  else{
    $('#cliente_id_ativo').prop("checked", false );
  }

  $('#cliente_id_tipo').val(data.tipo_pessoa).trigger('change');
  $('#cliente_id_nome').val(data.nome);
  $('#cliente_id_data_cadastro').val(moment(data.data_cadastro['$date']).format('DD/MM/YYYY'));
  $("#cliente_id_status_credito").val(data.tipo.status_credito);
  $("#cliente_id_limite_credito").val(data.tipo.limite_credito); 
  $("#cliente_obs").val(data.observacao);
  if (data.tipo_pessoa == 'PJ'){
  $('#cliente_id_CNPJ').val(data.CNPJ);
    $('#cliente_id_nome_fantasia').val(data.nome_fantasia);
    $('#cliente_id_inscestadual').val(data.inscricao_estadual);
    $('#cliente_id_inscmunicipal').val(data.inscricao_municipal);
    $('#cliente_data_fundacao').val(data.data_fundacao);
    $('#cliente_id_crt').val(data.CRT);
  }else if(data.tipo_pessoa == 'PF'){
    $("#cliente_id_CPF").val(data.CPF);
    $("#cliente_id_rg").val(data.RG);
    $("#cliente_id_registro").val(data.registro);
    $("#cliente_data_nascimento_input").val(moment(data.data_nascimento['$date']).format('DD/MM/YYYY'));
    $("#cliente_id_sexo").val(data.sexo);
    $("#cliente_id_estado_civil").val(data.estado_civil);
    $("#cliente_id_nome_pai").val(data.nome_pai);
    $("#cliente_id_nome_mae").val(data.nome_mae);
    $("#cliente_id_grau_instrucao").val(data.grau_instrucao);
    $("#cliente_id_compl_instrucao").val(data.complemento_instrucao);
    $("#cliente_id_inst_ensino").val(data.instituicao_ensino);
    $("#cliente_id_ra").val(data.RA);
    $("#cliente_id_ano_letivo").val(data.ano_letivo);
    $("#cliente_id_periodo").val(data.periodo);
  }
  
  var contato_html = '';
  var endereco_html = '';    
  for (i in data.contato){
    var n = parseInt(i) + 1;
    contato_html = contato_html + '<tr>';
    contato_html = contato_html + '<th scope="row">'+n+'</th>';
    contato_html = contato_html + '<td>'+ data.contato[i].nome +'</td>';
    contato_html = contato_html + '<td>'+ data.contato[i].email +'</td>';
    contato_html = contato_html + '<td>'+ data.contato[i].telefone +'</td>';
    var parametro_edit_cont = "'"+ n +"','"+ data.contato[i].nome +"','"+ data.contato[i].email +"','"+ data.contato[i].telefone +"'";
    contato_html = contato_html + '<td><i class="fa fa-pencil-square-o" aria-hidden="true" onclick="editarContatoCliente('+ parametro_edit_cont +')"></i>';      
    var parametro_excluir_cont = "'"+ n +"','"+ data._id['$oid'] +"'";
    parametro_excluir_cont =  parametro_excluir_cont + "," + "'clientes'"+ "," + "'cliente_contatos'" +"," + "'idContato_cliente'"+","+"'gradeContato_clientes'"+","+"'btnFormularioContatoClientes'"+"," +"'btnGradeContatoClientes'"+","+"'formularioContatoCliente'";
    contato_html = contato_html + '<i class="fa fa-trash" aria-hidden="true" onclick="excluirContato('+ parametro_excluir_cont +')"></i>';
    contato_html = contato_html + '</td>';
    contato_html = contato_html + '</tr>';
  }
  for (j in data.endereco){
    var n = parseInt(j) + 1;
    endereco_html = endereco_html + '<tr>';
    endereco_html = endereco_html + '<th scope="row">'+n+'</th>';
    endereco_html = endereco_html + '<td>'+ data.endereco[j].tipo +'</td>';
    endereco_html = endereco_html + '<td>'+ data.endereco[j].tipo_logradouro+' '+data.endereco[j].logradouro+'</td>';
    endereco_html = endereco_html + '<td>'+ data.endereco[j].numero +'</td>';
    endereco_html = endereco_html + '<td>'+ data.endereco[j].bairro +'</td>';
    endereco_html = endereco_html + '<td>'+ data.endereco[j].cidade +'</td>';
    var parametro_edit_end = "'editarEnderecoCliente("+ n +","+ JSON.stringify(data.endereco[j])+")'";
    endereco_html = endereco_html + '<td><i class="fa fa-pencil-square-o" aria-hidden="true" onclick='+parametro_edit_end +'></i>';      
    var parametro_excluir_end = "'"+ n +"','"+ data._id['$oid'] +"'";
    endereco_html = endereco_html + '<i class="fa fa-trash" aria-hidden="true" onclick="excluirEnderecoCliente('+ parametro_excluir_end +')"></i>';
    endereco_html = endereco_html + '</td>';
    endereco_html = endereco_html + '</tr>';
  }
  $('#cliente_contatos').html(contato_html);
  $('#cliente_enderecos').html(endereco_html);
  $('#cliente_contatos').show();
  $('#cliente_enderecos').show();
  mostraTipoCliente(data.tipo_pessoa);  
  mostraFormularioSaida(0);
}

function clearFormProduto(){
  $('#id_Cliente').val('0');
  $('#cliente_id_CNPJ').val('');
  $('#cliente_id_nome').val('');
  $('#cliente_id_nome_fantasia').val('');
  $('#cliente_id_inscestadual').val('');
  $('#cliente_id_inscmunicipal').val('');
  $('#cliente_data_fundacao').val('');
  $('#cliente_id_crt').val('');
  $("#cliente_id_CPF").val('');
  $("#cliente_id_rg").val('');
  $("#cliente_id_registro").val('');
  $("#cliente_data_nascimento").val('');
  $("#cliente_id_sexo").val('');
  $("#cliente_id_estado_civil").val('');
  $("#cliente_id_nome_pai").val('');
  $("#cliente_id_nome_mae").val('');
  $("#cliente_id_grau_instrucao").val('');
  $("#cliente_id_compl_instrucao").val('');
  $("#cliente_id_inst_ensino").val('');
  $("#cliente_id_ra").val('');
  $("#cliente_id_ano_letivo").val('');
  $("#cliente_id_periodo").val('');
  $("#cliente_id_status_credito").val('');
  $("#cliente_id_limite_credito").val(''); 
  $("#cliente_obs").val('');
  $("#cliente_id_nomecontato").val('');
  $("#cliente_id_emailcontato").val('');
  $("#cliente_id_telefonecontato").val('');
  $("#cliente_id_logradouro").val('');
  $("#cliente_id_cidade").val('');
  $("#cliente_id_numero").val('');
  $("#cliente_id_estado").val('');
  $("#cliente_id_CEP").val('');
  $("#cliente_id_tipoLogradouro").val('');
  $("#cliente_id_tipo_end").val('');
  $("#cliente_id_bairro").val('');
  $("#cliente_id_complemento").val('');
  $("#cliente_id_referencia").val('');
}

function mostraGradeSaida(){
    clearFormProduto();
    //mostrarGradeEndereco('cliente_id_editEndereco','cliente_gradeEndereco','cliente_btnFormularioEndereco','cliente_btnGradeEndereco','cliente_formularioEndereco');
    //mostrarGradeContatoCliente();
    
    $('#gradeCliente').show();
    $('#btnFormulaProduto').show();

    $('#btnGradeCliente').hide();
    $('#saida_id_formulario').hide();
    $('#cliente_contatos_enderecos').hide();
    $('#cliente_contatos').hide();
    $('#cliente_enderecos').hide();
    $('#cliente_contatos').html('');
    $('#cliente_enderecos').html('');
  }

  function mostraTipoCliente(tipo){
    if(tipo == "PJ"){
      $('#cliente_juridica').show();
      $('#cliente_fisica').hide();
    }else if(tipo == "PF"){
      $('#cliente_fisica').show();
      $('#cliente_juridica').hide();
    }
  }

  function mostraFormularioSaida(edit){   
    if (edit==1){
      $('#id_Cliente').val('0');
      clearFormProduto();
    }
    $('#gradeCliente').hide();
    $('#btnFormulaProduto').hide();      

    $('#btnGradeCliente').show();
    $('#saida_id_formulario').show();
    $('#cliente_contatos_enderecos').show();
    $('#cliente_contatos').show();
    $('#cliente_enderecos').show();
  }   
  
function mostrarGradeContatoCliente(){
  $("#idContato_cliente").val('0');
  $('#gradeContato_clientes').show();
  $('#btnFormularioContatoClientes').show();

  $('#btnGradeContatoClientes').hide();
  $('#formularioContatoCliente').hide();
}

function mostrarFormularioContatoCliente(limpar = true){
  if (limpar == true){
    $("#cliente_id_nomecontato").val('');
    $("#cliente_id_emailcontato").val('');
    $("#cliente_id_telefonecontato").val('');
  }
  $('#gradeContato_clientes').hide();
  $('#btnFormularioContatoClientes').hide();      

  $('#btnGradeContatoClientes').show();
  $('#formularioContatoCliente').show(); 
}

function editarContatoCliente(id, nome, email, telefone){
  $('#idContato_cliente').val(id);
  $("#cliente_id_nomecontato").val(nome);
  $("#cliente_id_emailcontato").val(email);
  $("#cliente_id_telefonecontato").val(telefone);
  mostrarFormularioContatoCliente(false);
} 

//Funções do endereço

function excluirEnderecoCliente(id, idcliente){
  confirmar('Atenção',
            'Deseja excluir este endereço?',
            'red',
            'fa fa-warning',
            function(){
              var self = this;
              self.close();
             return $.ajax({
                            data: {
                              csrfmiddlewaretoken: '{{token}}',
                              deletar : {
                                idDel : id
                              },
                              cliente : idcliente
                            },
                            type: 'POST',
                            url:'/cadastros/clientes/endereco/excluir/'
                          }).success(function(data){
                            if(data.result == 1){
                              atualizarEndereco(idcliente,'clientes', 'cliente_enderecos', 'Cliente', 'cliente_id_editEndereco','cliente_gradeEndereco','cliente_btnFormularioEndereco','cliente_btnGradeEndereco','cliente_formularioEndereco');
                            }
                          }).fail(function(data){
                              alertar('Atenção','Endereço não excluído </br> Tente novamente mais tarde','red','fa fa-warning');          
                          })
            }
          )
}

function mostrarFormularioEnderecoCliente(limpar = true){
  if (limpar == true){
    $("#cliente_id_logradouro").val('');
    $("#cliente_id_cidade").val('');
    $("#cliente_id_numero").val('');
    $("#cliente_id_estado").val('');
    $("#cliente_id_CEP").val('');
    $("#cliente_id_tipoLogradouro").val('');
    $("#cliente_id_tipo_end").val('');
    $("#cliente_id_bairro").val('');
    $("#cliente_id_complemento").val('');
    $("#cliente_id_referencia").val('');
  }
  $('#cliente_gradeEndereco').hide();
  $('#cliente_btnFormularioEndereco').hide();      

  $('#cliente_btnGradeEndereco').show();
  $('#cliente_formularioEndereco').show();
  $('.selectpicker').selectpicker("refresh"); 
}
 
function editarEnderecoCliente(id, data){
  $('#cliente_id_editEndereco').val(id);
  $('#cliente_id_tipo_end').val(data.tipo);
  $('#cliente_id_CEP').val(data.CEP);
  $('#cliente_id_tipoLogradouro').val(data.tipo_logradouro);
  $('#cliente_id_logradouro').val(data.logradouro);
  $('#cliente_id_numero').val(data.numero);
  $('#cliente_id_complemento').val(data.complemento);
  $('#cliente_id_bairro').val(data.bairro);
  $('#cliente_id_referencia').val(data.referencia);
  $('#cliente_id_cidade').val(data.cidade);
  $('#cliente_id_estado').val(data.estado);
  mostrarFormularioEnderecoCliente(false);
  $('.selectpicker').selectpicker("refresh");
}

function gravarCliente(){
  if ( $("#cliente_id_nomecontato").val() != '' || $("#cliente_id_emailcontato").val() != '' || $("#cliente_id_telefonecontato").val() != '' ){
    adicionarContato('/cadastros/clientes/','#idContato_cliente','#cliente_id_nomecontato','#cliente_id_emailcontato','#cliente_id_telefonecontato','#id_Cliente','clientes','cliente_contatos', 'idContato_cliente', 'gradeContato_clientes', 'btnFormularioContatoClientes', 'btnGradeContatoClientes', 'formularioContatoCliente', 'addCliente(1)', 'Cliente');
  }else if( $("#cliente_id_logradouro").val() != '' || $("#cliente_id_cidade").val() != '' || $("#cliente_id_CEP").val() != '' || $("#cliente_id_bairro").val() != ''){
    adicionarEndereco('Cliente','cliente');    
  }else{
    addCliente(0);
  }
}

//Data
$(function () {
    $('#cliente_data_nascimento').datetimepicker({           
        format: 'DD/MM/YYYY',
        daysOfWeekDisabled: [0, 6],
        locale: 'pt-br'
    });
    $('#cliente_data_fundacao').datetimepicker({           
        format: 'DD/MM/YYYY',
        daysOfWeekDisabled: [0, 6],
        locale: 'pt-br'
    });        

});
$('#id_get_entidade_cliente').on('keypress', function (e) {
         if(e.which === 13){
          carregarGradeSaida()
         }
   });
</script>
<div class="right_col" role="main">
  <div class="container body">
    <div class="page-title">
      <div class="title_left">                          
        <h1>Saída</h1>
      </div>    
      <div class="title_right">
        <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
          <div class="input-group">
            <input type="text" id="id_get_entidade_cliente" class="form-control" placeholder="Pesquisar...">
            <span class="input-group-btn">
              <button id="cliente_btn_ok" class="btn btn-default" type="button" onclick="carregarGradeProduto()">Ok!</button>
            </span>
          </div> 
        </div>
      </div>
    </div>
  </br>
  <div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
      <div class="x_panel">
        <div class="x_title">
          <h2>Formulário de cadastro de saída de produto</h2>
          <ul class="nav navbar-right panel_toolbox">

            <li id ="btnGradeCliente" style="display:none">
              <a onclick="mostraGradeSaida()"><i class="fa fa-list"></i> Grade</a>
            </li>
            <li id ="btnFormulaProduto">
              <a onclick="mostraFormularioSaida(1)"><i class="fa fa-list"></i> Novo</a>
            </li>     
          </ul>
          <div class="clearfix"></div>
        </div>
        <div class="x_content" id="saida_id_formulario" style="display:none">
          <input type="hidden" id="id_Cliente" name="id" value="0">                  
          <form id="demo-form" data-parsley-validate>
            <div class="row">
              <div class="col-md-3 col-sm-3 col-cx-6">
                <label class="control-label">Data de cadastro</label></br>
                <div class='input-group date' id='cadastro'>
                  <input type='text' class="form-control" name="cadastro" id="cliente_id_data_cadastro" readonly/>
                  <span class="input-group-addon">
                    <span class="glyphicon glyphicon-calendar"></span>
                  </span>
                </div>
              </div>
              <div class="col-md-4 col-sm-4 col-xs-12">
                <label for="fornecedorProduto"></span>Marceneiro</label>
                <div class="input-group">                
                  <span class="input-group-addon">
                      <span class="glyphicon glyphicon-user"></span>
                  </span>
                  <input type="text" name="fornecedorProduto" onkeypress="clearClassBad('produto_id_fornecedor')" maxlength="200" title="" id="produto_id_fornecedor" class="form-control" />
                </div>
              </div>
              <div class="col-md-5 col-sm-5 col-xs-12">
                <label for="fornecedorProduto"></span>Cliente</label>
                <div class="input-group">                
                  <span class="input-group-addon">
                      <span class="glyphicon glyphicon-user"></span>
                  </span>
                  <input type="text" name="fornecedorProduto" onkeypress="clearClassBad('produto_id_fornecedor')" maxlength="200" title="" id="produto_id_fornecedor" class="form-control" />
                </div>
              </div>          
            </div>
            <div class="x_title">
              <h2>Produto</h2>
              <ul class="nav navbar-right panel_toolbox">
              </ul>
              <div class="clearfix"></div>
            </div>
            <div class="row">
              <div class="col-md-2 col-sm-2 col-xs-6">
                <label for="codigoProduto"></span>Código</label>
                <div class="input-group">                
                  <span class="input-group-addon">
                      <span class="fa fa-code"></span>
                  </span>
                  <input type="number" name="codigoProduto" onkeypress="clearClassBad('produto_id_codigo')" maxlength="200" title="" id="produto_id_codigo" class="form-control" />
                </div>
              </div>
              <div class="col-md-2 col-sm-2 col-xs-12">
                <label class="control-label">Quantidade</label>
                <div class="input-group">
                  <span class="input-group-addon">
                    <span class="fa fa-cubes"></span>
                  </span>
                  <input type="number" maxlength="18" title="" id="compra_id_quantidade" class="form-control" />
                </div>
              </div>
              <div class="col-md-2 col-sm-2 col-xs-12">
                <label class="control-label">Unidade</label>
                <div class="input-group">
                  <span class="input-group-addon">
                    <span class="fa fa-thumb-tack"></span>
                  </span>          
                  <select class="selectpicker form-control" data-live-search="true"  name="" id ="produto_id_unidade" >
                    <option value= "">...</option>
                    <option>Cartela com 50</option>
                    <option>Kilo</option>
                    <option>Litros</option>
                    <option>Metro</option>
                    <option>Pacote</option>
                    <option>Par</option>
                    <option>Peça</option>
                    <option>Rolo</option>
                    <option>Rolo 300m</option>
                    <option>Unidade</option>
                  </select>
                </div>
              </div>    
              <div class="col-md-4 col-sm-4 col-xs-12">
                <label for="descricaoCompra"></span>Descrição do Produto</label>
                <div class="input-group">              
                  <span class="input-group-addon">
                      <span class="fa fa-pencil"></span>
                  </span>
                  <input type="text" name="descricaoCompra" onkeypress="clearClassBad('compra_id_descricao')" maxlength="200" title="" id="compra_id_descricao" class="form-control" />
                </div>
              </div> 
              <div class="col-md-2 col-sm-2 col-xs-12">
                <label class="control-label">Valor em R$</label>
                <div class="input-group">
                  <span class="input-group-addon">
                    <span class="fa fa-dollar"></span>
                  </span>
                  <input type="number" maxlength="18" title="" id="produto_id_estoque_inicial" class="form-control" />
                </div>
              </div>
              <div class="x-content pull-right">     
                <button type="button" class="btn btn-round btn-danger" onclick="mostraGradeFuncionario()">Cancelar</button> 
                <button type="button" class="btn btn-round btn-success" onclick="gravarFuncionario()">Inserir</button>
              </div> 
            </div>
            <div class="row">
              <div class="table-responsive col-md-12 col-sm-12 col-xs-12"  id="fornecedor_gradeContato">
                <table class="table table-hover" >
                  <thead>
                    <tr>
                      <th style="width: 2%">#</th>
                      <th style="width: 5%">Qtd</th>
                      <th style="width: 58%">Produto</th>
                      <th style="width: 35%">Preço</th>
                    </tr>
                  </thead>
                  <tbody id="fornecedores_contatos">

                  </tbody> 
                </table>
              </div>
              <div class="col-md-4 col-sm-4 col-xs-12 pull-right">
                <label class="control-label">Total :</label>
                <div class="input-group">
                  <span class="input-group-addon">
                    <span class="fa fa-dollar"></span>
                  </span>
                  <input type="number" maxlength="18" title="" id="compra_id_total" class="form-control" readonly/>
                </div>
              </div>
            </div>
            </br>
            <div class="x-content pull-right">     
              <button type="button" class="btn btn-round btn-danger" onclick="mostraGradeSaida()">Cancelar</button> 
              <button type="button" class="btn btn-round btn-success" onclick="gravarCliente()">Salvar</button>
            </div>           
          </form>

        </div>
        <div class="table-responsive"  id="gradeCliente">
          <table class="table table-hover"  >
            <thead>
              <tr name="parse_table">
                <th class="sorting" tabindex="0" aria-controls="datatable-buttons" style="width: 2%;" aria-sort="ascending">#</th>
                <th class="sorting" tabindex="0" aria-controls="datatable-buttons" style="width: 5%;" aria-sort="ascending">Data</th>
                <th class="sorting" tabindex="0" aria-controls="datatable-buttons" style="width: 70%;" aria-sort="ascending">Fornecedor</th>
                <th class="sorting" tabindex="0" aria-controls="datatable-buttons" style="width: 18%;" aria-sort="ascending">Preço Total</th>
                <th class="sorting" tabindex="0" aria-controls="datatable-buttons" style="width: 5%;">Ações</th>
              </tr>
            </thead>      
            <tbody id="id_itens_clientes">
            </tbody>
          </table>
        </div>
        </div> 
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
  $(document).ready(function() { 
  $('.selectpicker').selectpicker("refresh");
  $('.tel').mask('(00) 00000-0009');
  $('.cnpj').mask('00.000.000/0000-00', {reverse: true});
  $('.cpf').mask('000.000.000-00', {reverse: true});
  $('.cep').mask('00000-000');
  checkboxTrueFalse() 
});
</script>
{% endblock content %}

{% block javascripts %}
  {{ block.super }}
{% endblock javascripts %}